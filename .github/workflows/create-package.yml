name: Create zip package

on:
  push:
    tags:
      - "*.*.*"
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@master
      - name: Archive Release
        uses: thedoctor0/zip-release@0.7.1
        with:
          type: 'zip'
          filename: 'junngla-blix-woocommerce-plugin.zip'
          exclusions: '.gitignore, *.tar.gz, *.git* /*node_modules/* .editorconfig'

      - name: Create Release
        uses: ncipollo/release-action@v1
        with:
          allowUpdates: true
          artifacts: 'junngla-blix-woocommerce-plugin.zip'
          token: ${{ secrets.GITHUB_TOKEN }}
          body: |
            # Junngla Blix (Plugin woocommerce)

            Changelog:

            ${{ steps.tag_data.outputs.git-tag-annotation || '<< empty git-tag-annotation >>' }}

            <a name="Requisitos"><h3>Requisitos</h3></a>
  
            <p>Para poder habilitar el m√©todo de pago &laquo; <i>RedPay by Blix</i> &raquo; debes cumplir con los siguientes requisitos:</p>
            <ol>
            <li>Tener Wordpress instalado.</li>
            <li>Tener el plugin de WooCommerce instalado.</li>
            </ol>
            
            <a name="Configuracion"><h3>Configuraci√≥n</h3></a>
          
            <p><strong>1.</strong> Descarga el plugin Wordpress de Blix en el siguiente enlace:
            <br>
            <a href="https://github.com/junngla-tech/junngla-blix-woocommerce-plugin/releases" target="_blank" rel="noopener">https://github.com/junngla-tech/junngla-blix-woocommerce-plugin/releases</a>.</p>
            <div>
            <img src="./screenshot/wordpress-step-1.png" width="760px" height="500px" alt="XXX">
            </div>
            
            <p><strong>2.</strong> Ingresa al panel de administraci√≥n de tu tienda Wordpress y en el menu principal, selecciona &laquo; <i>Agregar nuevo</i> &raquo; en la secci√≥n  &laquo; <i>Plugins</i> &raquo; para poder configurar un nuevo m√©todo de pago.</p>
            <div>
            <img src="./screenshot/wordpress-step-2.png" width="317px" height="279px" alt="XXX">
            </div>
            
            <p><strong>3.</strong> Seleccionar el archivo &laquo; <i>junngla-blix-woocommerce-plugin.zip</i> &raquo; descargado anteriormente.</p>
            <div>
            <img src="./screenshot/wordpress-step-3.png" width="736px" height="208px" alt="XXX">
            </div>
            
            <p><strong>4.</strong> Una vez instalado el plugin deber√° activarlo.</p>
            
            <div>
            <img src="./screenshot/wordpress-step-4.png" width="618px" height="256px" alt="XXX">
            </div>
            
            <p><strong>5.</strong> Una vez instalado y activado el plugin, desde el menu principal selecciona &laquo; <i>Ajustes</i> &raquo; que encontraras dentro del menu de &laquo; <i>WooCommerce</i> &raquo;. En la pesta√±a de &laquo; <i>Pagos</i> &raquo;, debes de gestionar y habilitar el medio de pago &laquo; <i>RedPay by Blix</i> &raquo;.</p>
            <div>
            <img src="./screenshot/wordpress-step-5.png" width="1140px" height="517px" alt="XXX">
            </div>
            
            <p><strong>6.</strong> A continuaci√≥n deber√° rellenar el formulario con la siguiente informaci√≥n:</p>
            <ul>
            <li><strong>Nombre:</strong> RedPay by Blix</li>
            <li><strong>Url del m√©todo de pago:</strong> https://api.blix.global/woocommerce/init-transaction</li>
            <li><strong>Llave de medio de pago:</strong> Ingresa aqu√≠ el valor &laquo; <i>Client ID</i> &raquo; presente en la parte superior de est√° p√°gina.</li>
            <li><strong>Secreto de medio de pago:</strong> Ingresa aqu√≠ el valor &laquo; <i>Secreto</i> &raquo; presente en la parte superior de est√° p√°gina.</li>
            </ul>
            <div>
            <img src="./screenshot/wordpress-step-6.png" width="812px" height="411px" alt="XXX">
            </div>
            
            <p><strong>7.</strong> Tu nuevo m√©todo de pago se encuentra listo para ser usado.</p>
            
            <p align="center">-- El equipo Blix üåé --</p>